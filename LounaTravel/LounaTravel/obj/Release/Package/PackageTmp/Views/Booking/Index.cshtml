@model LounaTravel.EntityFramework.tbl_Tour
@{
    Layout = "~/Views/Shared/Layout.cshtml";
}
@{var user = (LounaTravel.EntityFramework.tbl_User)HttpContext.Current.Session["USER_LOGIN"]; }
<link rel="stylesheet" href="~/Assets/css/booking.css">
<div id="bg-image" class="hero-wrap js-fullheight" style="background-image: url('/Assets/images/bg_1.jpg');margin-bottom:50px">
    <div class="overlay"></div>
    <div class="container">
        <div class="row no-gutters slider-text js-fullheight align-items-center justify-content-center" data-scrollax-parent="true">
            <div class="col-md-9 text-center ftco-animate" data-scrollax=" properties: { translateY: '70%' }">
                <p class="breadcrumbs" data-scrollax="properties: { translateY: '30%', opacity: 1.6 }"><span class="mr-2"><a href="index.html">Home</a></span> <span>Tour Detail</span></p>
                <h1 class="mb-3 bread" data-scrollax="properties: { translateY: '30%', opacity: 1.6 }">Tour Detail</h1>
            </div>
        </div>
    </div>
</div>
<section style="margin-top:100px">
    <div class="row tour-info" style="margin-bottom: 60px;margin: 0 11% 100px 10%">
        <div class="col-xs-12">
            <div class="row">
                <div class="t-info-left col-md-4 col-sm-12 left tour-info-mgr mg-bot10">
                    <div class="tour-info-left-frame">
                        <img src="~/Assets/images/@(Model.tbl_Image.FirstOrDefault() == null ? "~/Assets/images/destination-2-1.jpg" : Model.tbl_Image.FirstOrDefault().Path )" alt="@Model.Name" class="img-responsive " if;">
                        <div style="margin-top: 10px">
                            <div class="f-left tour-info-left">
                                <div style="border-right: none !important; text-align: center; margin: 0px !important; height: 50px; line-height: 50px">
                                    <i class="fa fa-clock-o" aria-hidden="true"></i>&nbsp;&nbsp;Số ngày:
                                    <span>@((Model.TimeEnd - Model.TimeBegin).Days)</span>
                                </div>

                            </div>
                            <div class="f-right tour-info-right">@string.Format("{0:#,0}", Model.PriceForAdult)<span> đ</span></div>
                        </div>
                        <div class="clear"></div>
                    </div>
                </div>
                <div class="col-md-8 col-sm-12 right tour-info-right-frame">
                    <div class="row tour-info-right-frame1">
                        <div class="col-xs-12">
                            <div style="font-weight: bold;font-size:17.5px;margin-bottom: 10px;line-height: 22px;">
                                <h5>@Model.Name</h5>
                            </div>
                        </div>
                    </div>
                    <div class="row tour-info-right-frame2">
                        <div class="col-lg-12">
                            <div class="row" style="margin-bottom: 16px;margin-top: 15px">
                                <div class="col-md-3 col-sm-3 col-xs-6 mg-bot5">Mã tour:</div>
                                <div id="tourID" class="col-md-9 col-sm-9 col-xs-6">@Model.ID</div>
                            </div>
                            <div class="row" style="margin-bottom: 16px;margin-top: 15px">
                                <div class="col-md-3 col-sm-3 col-xs-6 mg-bot5">Ngày khởi hành:</div>
                                <div class="col-md-3 col-sm-4 col-xs-6">@Model.TimeBegin.ToString("dd/MM/yyyy")</div>
                                <div class="col-md-3 col-sm-5 col-xs-12"><i class="fa fa-calendar"></i>&nbsp;&nbsp;<a href="@Url.Action("Search","Home",new {txtFromPlace = Model.fromPlace , txtToPlace = 0, timeBegin = DateTime.Today,traveler = 1})">Ngày khác</a></div>
                            </div>
                            <div class="row" style="margin-bottom: 31px;margin-top: 15px">
                                <div class="col-md-3 col-sm-3 col-xs-6 mg-bot5">Nơi khởi hành:</div>
                                <div class="col-md-3 col-sm-4 col-xs-6 mg-bot5"> @Model.tbl_FromPlace.CityName</div>
                                <div class="col-md-3 col-sm-3 col-xs-6">Số chỗ còn nhận:</div>
                                <div class="col-md-3 col-sm-2 col-xs-6">@Model.SeatsRemaining</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="chuy">
                                <span style="display: table-cell;vertical-align: middle;line-height: 18px;color: #cd2c24;">
                                    Khách nữ từ 55 tuổi trở lên, khách nam từ 60 tuổi trở lên đi tour một mình và khách mang thai trên 4 tháng (16 tuần) vui lòng đăng ký tour trực tiếp tại văn phòng của LuonaTravel. Không áp dụng đăng ký tour online đối với khách từ 70 tuổi trở lên
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div style="background-color: #efeff0;padding: 0 10%;margin: 0 10%">
        <div class="row">
            <div class="col-lg-12 text-center" style="margin: 40px 0 40px 0">
                <span class="title" style="text-transform: uppercase;">Giá tour cơ bản</span>
            </div>
            <div class="col-lg-12">
                <table class="table table-bordered">
                    <thead>
                        <tr style="font-weight: bold;font-size: 16px;">
                            <td></td>
                            <td>Người lớn (Từ 12 tuổi trở lên)</td>
                            <td>Trẻ em (Từ 2 tuổi đến dưới 12 tuổi)</td>
                            <td>Trẻ nhỏ (Dưới 2 tuổi)</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-title="">Giá tour cơ bản</td>
                            <td data-title="Người lớn (Từ 12 tuổi trở lên)" id="PriceAdult" data-PriceAdult="@Model.PriceForAdult">@string.Format("{0:#,0}", Model.PriceForAdult)<span> đ</span></td>
                            <td data-title="Trẻ em (Từ 2 tuổi đến dưới 12 tuổi)" id="PriceKid" data-PriceKid="@Model.PriceForKid">@string.Format("{0:#,0}", Model.PriceForKid)<span> đ</span></td>
                            <td data-title="Trẻ nhỏ (Dưới 2 tuổi)" id="PriceBaby" data-PriceBaby="@Model.PriceForBaby">@string.Format("{0:#,0}", Model.PriceForBaby)<span> đ</span></td>
                        </tr>
                        <tr>
                            <td data-title="">Phụ thu xăng dầu &amp; Bảo hiểm hàng không</td>
                            <td data-title="Người lớn (Từ 12 tuổi trở lên)">0<span> đ</span></td>
                            <td data-title="Trẻ em (Từ 2 tuổi đến dưới 12 tuổi)">0<span> đ</span></td>
                            <td data-title="Trẻ nhỏ (Dưới 2 tuổi)">0<span> đ</span></td>
                        </tr>
                        <tr>
                            <td data-title="">Lệ phí sân bay</td>
                            <td data-title="Người lớn (Từ 12 tuổi trở lên)">0<span> đ</span></td>
                            <td data-title="Trẻ em (Từ 2 tuổi đến dưới 12 tuổi)">0<span> đ</span></td>
                            <td data-title="Trẻ nhỏ (Dưới 2 tuổi)">0<span> đ</span></td>
                        </tr>
                        <tr>
                            <td data-title="">Phụ thu visa (Nếu có)</td>
                            <td data-title="Người lớn (Từ 12 tuổi trở lên)">0<span> đ</span></td>
                            <td data-title="Trẻ em (Từ 2 tuổi đến dưới 12 tuổi)">0<span> đ</span></td>
                            <td data-title="Trẻ nhỏ (Dưới 2 tuổi)">0<span> đ</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="form-group">
                    <div style="color: #cd2c24;text-transform:uppercase;padding-bottom:10px;font-weight:bold">Ghi chú:</div>
                    <div style="line-height: 22px">
                        <div style="margin-bottom:5px">-&nbsp;Phụ thu visa tái nhập Việt Nam : <span class="bold">1,480,000 đ</span></div>
                        <div style="margin-bottom:5px">-&nbsp;Phụ thu phòng đơn : <span class="bold">2,600,000 đ</span></div>
                    </div>
                </div>
            </div>
            <form>
                @*<input name="__RequestVerificationToken" type="hidden" value="S56t9Kk-gA7KUpvYcxtOWLlGzF4v1JcYdxCsmIrawV64pFTfQD4KGaQBiqc3UFCXfJKEFhNq4CDPeHcmjxc068yjYrofIuRyS0f77SvUQQYbyjFoydgn3RAAakqkhonslcFUqkuP4J6VhizhrpQTakD0AsivAuCyyxN95O-ZCAw1">*@<input data-val="true" data-val-required="The tour_id field is required." id="tour_id" name="tour_id" type="hidden" value="3dbbba48-2303-4790-9136-4d496a629a70">                <div class="col-xs-12 text-center" style="margin: 40px 0 40px 0">
                    <span class="title" style="text-transform: uppercase;">Thông tin liên lạc</span>
                </div>

                @{ var today = DateTime.Now;

                    DateTime fromdayAdult = new DateTime(today.Year - 50, today.Month, today.Day);
                    DateTime fromdayKid = new DateTime(today.Year - 12, today.Month, today.Day);
                    DateTime fromdayBaby = new DateTime(today.Year - 2, today.Month, today.Day);

                }
                <script>
                    function CheckMobile() {
                        var num = $("#mobilephone").val();
                        if (num.toString().length != 10) {
                            $("#mobilephone").focus();
                            $("#messageTel").show().text("Số điện thoại phải đủ 10 số");
                        } else {
                            $("#messageTel").hide();
                        }

                    }
                    function CheckInt(e, message) {

                        //|| (e.which >= 96 && e.which <= 105)
                        if (!(e.which >= 48 && e.which <= 57)) {
                            // not 0-9
                            e.preventDefault();
                            $(message).show().text("Nhập số đi thằng lồn");
                        } else {
                            $(message).hide();
                        }

                    }

                    function checkNullAndInt(e, MessagePlace) {
                        if ($('#adult').val() == 0) {
                            $("#MessageAdult").show().text("Số lượng người lớn phải lớn hơn 0");
                            $("#adult").focus();
                            return;
                        } else {
                            $("#MessageAdult").hide();
                        }
                        var value = parseInt(e.value);
                        if (!Number.isInteger(value)) {

                            $(MessagePlace).show().text("Mời nhập số người");
                            $(e).focus();
                        } else {
                            var Adult = parseInt($('#adult').val());
                            var Kid = parseInt($('#children').val());
                            var Baby = parseInt($('#baby').val());
                            var PriceAdult = parseFloat($('#PriceAdult').attr('data-PriceAdult'))
                            var PriceKid = parseFloat($('#PriceKid').attr('data-PriceKid'))
                            var PriceBaby = parseFloat($('#PriceBaby').attr('data-PriceBaby'))
                            $.ajax({
                                url: '/Booking/RenderPassenger',
                                type: 'POST',
                                data: {
                                    Adult: Adult,
                                    Kid: Kid,
                                    Baby: Baby,
                                    PriceAdult: PriceAdult,
                                    PriceBaby: PriceBaby,
                                    PriceKid: PriceKid,
                                },
                                //dataType: "json",
                                success: function (result) {
                                    if (result.status == true) {
                                        $("#DanhSachKhach").html(result.listPassenger);
                                    } else {
                                        alert('Error loading profile data');
                                    }
                                },
                                error: function () {
                                    alert('Error loading profile data');
                                }
                            })
                            $(MessagePlace).hide();
                        }
                    }
                    $(document).ajaxComplete(function () {
                        $(".dob").datepicker().on("changeDate", function (e) {
                            console.log("Date changed: ", e.date);
                            checkDOB(this);
                            status = $('#statusRedirect').val();
                            if (status == 1) {

                                var host = location.host + "/Booking/Details?username=" + usernameGlobal;
                                console.log(host);
                                window.location.href = host;
                            }
                        }); 
                    });

                </script>
                <div class="col-xs-12 book-thongtinlienlac">
                    <div class="row">
                        <div class="col-md-6 col-sm-12 col-xs-12">
                            <div class="form-group">
                                <label>Họ tên <span style="color: #cd2c24">*</span></label>
                                <div>
                                    <input class="form-control input-lg" id="contact_name" name="contact_name" required="required" type="text" value="@user.LastName  @user.FirstName">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Di động <span style="color: #cd2c24">*</span> <span id="messageTel" style="display:none;color:red;text-align:right"></span></label>

                                <div>
                                    <input class="form-control input-lg" id="mobilephone" name="mobilephone" onfocusout="CheckMobile();" required="required" type="text" value="@user.PhoneNumber">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Địa chỉ</label>
                                <div>
                                    <input class="form-control input-lg" id="address" name="address" type="text" value="@user.Address">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-12 col-xs-12">
                            <div class="form-group">
                                <label>EMAIL <span style="color: #cd2c24">*</span></label>
                                <div>
                                    <input class="form-control input-lg" id="email" name="email" required="required" type="email" value="@user.Email">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Ngày Sinh</label>
                                <div>
                                    <input class="form-control input-lg checkin_date" id="birthday" name="birthday" type="text" value="@user.Birthday.Value.ToString("dd/MM/yyyy")">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-3 col-sm-3 mg-bot15">
                                        <label>Người lớn</label>

                                        <div>
                                            <input class="form-control input-lg" id="adult" name="adult" type="text" onkeypress="CheckInt(event,document.getElementById('MessageAdult'))" onfocusout="checkNullAndInt(this, document.getElementById('MessageAdult'))" value="1">
                                        </div>
                                        <label id="MessageAdult" style="display:none;color:red"></label>
                                    </div>
                                    <div class="col-md-3 col-sm-3 mg-bot15">
                                        <label>Trẻ em</label>
                                        <div>
                                            <input class="form-control input-lg" id="children" name="children" type="text" value="0" min="0" onkeypress="CheckInt(event, document.getElementById('MessageChild'))" onfocusout="checkNullAndInt(this, document.getElementById('MessageChild'))">
                                        </div>
                                        <label id="MessageChild" style="display:none;color:red"></label>
                                    </div>
                                    <div class="col-md-2 col-sm-3 mg-bot15">
                                        <label>Trẻ nhỏ</label>
                                        <div>
                                            <input class="form-control input-lg" id="baby" name="baby" type="text" value="0" min="0" onkeypress="CheckInt(event,document.getElementById('MessageBaby'))" onfocusout="checkNullAndInt(this, document.getElementById('MessageBaby'))">
                                        </div>
                                        <label id="MessageBaby" style="display:none;color:red"></label>
                                    </div>
                                    <div class="col-md-4 col-sm-3">
                                        <label>Số khách</label>
                                        <div>
                                            <input class="form-control input-lg" id="guests" name="guests" readonly="readonly" type="number" value="1" min="1">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="form-group">
                                <label>Ghi chú</label>
                                <div>
                                    <textarea class="form-control input-lg" cols="20" id="note" name="note" rows="4"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="form-group">
                                <label><span style="color: #cd2c24">Ghi chú:</span> </label>
                                <div style="line-height: 22px">

                                    <span class="bold">Người lớn sinh từ :</span> @((fromdayAdult - new TimeSpan(24, 0, 0)).ToString("dd/MM/yyyy")) đến @fromdayKid.ToString("dd/MM/yyyy")
                                    -
                                    <span class="bold">Trẻ em sinh từ :</span> @((fromdayKid - new TimeSpan(24, 0, 0)).ToString("dd/MM/yyyy")) đến @fromdayBaby.ToString("dd/MM/yyyy")
                                    -
                                    <span class="bold">Trẻ nhỏ sinh từ :</span> @((fromdayBaby - new TimeSpan(24, 0, 0)).ToString("dd/MM/yyyy")) đến @today.ToString("dd/MM/yyyy")
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12">
                    <input type="radio" class="chkListCustomer" name="ListCustomer" value="1" checked="checked">
                    <span style="font-weight:bold;">Nhập danh sách khách hàng đi tour</span>&nbsp;&nbsp;&nbsp;

                    <div id="DanhSachKhach">
                        <div class="text-center" style="margin: 40px 0 40px 0">
                            <span class="title" style="text-transform: uppercase;">Danh sách khách hàng đi tour</span>
                        </div>
                        <div class="book-danhsachkhachditour list">
                            <div class="row thongtin" style="font-size: 14px">
                                <div class="col-md-12 col-sm-12 col-xs-12 mg-bot10">
                                    <div>
                                        <div style="padding: 12px 15px 12px 15px; background: #c50000; color: #FFF">Khách hàng 1</div>
                                    </div>

                                    <div class="row mg-bot10">
                                        <div class="col-sm-4">
                                            <label class="mg-bot5">Họ tên (<span class="price">*</span>)</label>
                                            <div>
                                                <input class="form-control" name="[0]fullnameAdult" id="[0]fullnameAdult" type="text" value="">
                                            </div>
                                        </div>
                                        <div class="col-sm-2">
                                            <label class="mg-bot5">Giới tính</label>
                                            <div>
                                                <select class="form-control" name="[0]genderAdult" id="[0]genderAdult">
                                                    <option value="0">Nữ</option>
                                                    <option value="1">Nam</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                            <label class="mg-bot5">Ngày sinh (<span class="price">*</span>)</label>

                                            <input type="text" data-count="0" id="dobAdult+0" name="dobAdult+0" class="dob" style="height:50px;text-align:center;width:100%">
                                            <div style="display:none;color:red" id="messageDOBAdult+0"></div>
                                        </div>
                                        <div class="col-sm-3 ">
                                            <label class="mg-bot5">Loại khách</label>
                                            <div>
                                                <select class="form-control" id="adult+0" name="adult+0">
                                                    <option value="0">Người lớn</option>
                                                </select>

                                            </div>
                                        </div>

                                    </div>

                                    <div class="row" style="padding: 15px 0 0px 0; border-top: 1px solid #ccc; margin-top: 15px;">
                                        <div class="col-lg-12 col-sm-12 text-right">
                                            Trị giá: <span style="color:#cd2c24;font-weight: bold;font-size: 16px;padding-top: 18px" id="spanprice0">@string.Format("{0:#,0}", Model.PriceForAdult) đ</span>
                                            <input class="form-control" disabled="disabled" id="price+0" name="price+0" type="hidden" value="@Model.PriceForAdult đ">
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="row" style="margin-top: 30px">
                                <div class="col-lg-12">
                                    <div style="text-align: left; padding: 10px 15px 10px 15px; background: #ddd">
                                        <span style="font-weight: bold; font-size: 14px; margin-right: 10px; text-transform: uppercase">Tổng cộng:</span>
                                        <span style="color: #cd2c24; font-weight: bold; font-size: 20px;float:right;" id="spanTotalPrice">@string.Format("{0:#,0}", Model.PriceForAdult) đ</span>
                                        <input type="hidden" id="TotalPrice" disabled="disabled" class="form-control" value="@Model.PriceForAdult">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="col-xs-12" id="divTongTien" style="display: none;">
                    <div class="row" style="margin-top: 30px">
                        <div class="col-xs-12">
                            <div style="text-align: left; padding: 10px 15px 10px 15px; background: #ddd">
                                <span style="font-weight: bold; font-size: 14px; margin-right: 10px; text-transform: uppercase">Tổng cộng:</span>
                                <span style="color: #cd2c24; font-weight: bold; font-size: 20px;float:right;" id="spanTotalPriceBK">9,190,000 đ</span>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    $(document).ready(function () {
                        $(".dob").datepicker().on("changeDate", function (e) {
                            console.log("Date changed: ", e.date);
                            checkDOB(this);
                        });
                        
                    });
                    function checkDOB(e) {
                        var id = $(e).attr('name');
                        var count = $(e).attr('data-count');

                        var date = new Date($(e).val());
                        if (id.search('dobAdult') != -1) {

                            var mess = 'messageDOBAdult+' + count;
                            var FromDate = new Date("@((fromdayAdult - new TimeSpan(24, 0, 0)).ToString("yyyy/MM/dd"))");
                            var ToDate = new Date("@fromdayKid.ToString("yyyy/MM/dd")");
                            if (date > ToDate || date < FromDate) {

                                $(document.getElementById(mess)).show().text("Xin quý khách nhập thông tin chính xác.");
                                //$(".dob").datepicker("hide").focus().click(function () {
                                //    $(this).datepicker().focus();
                                //});
                                e.focus();
                                return;
                            } else {
                                $(document.getElementById(mess)).hide();
                                return;
                            }
                        } else if (id.search('dobKid') != -1) {
                            var mess = 'messageDOBKid+' + count;
                            var FromDate = new Date("@((fromdayKid - new TimeSpan(24, 0, 0)).ToString("yyyy/MM/dd"))");
                            var ToDate = new Date("@fromdayBaby.ToString("yyyy/MM/dd")");
                            if (date > ToDate || date < FromDate) {
                                $(document.getElementById(mess)).show().text("Xin quý khách nhập thông tin chính xác.");
                                e.focus();
                                return;
                            } else {
                                $(document.getElementById(mess)).hide();
                                return;
                            }
                        } else if (id.search('dobBaby') != -1) {
                            var mess = 'messageDOBBaby+' + count;
                            var FromDate = new Date("@((fromdayBaby - new TimeSpan(24, 0, 0)).ToString("yyyy/MM/dd"))");
                            var ToDate = new Date("@today.ToString("yyyy/MM/dd")");
                            if (date > ToDate || date < FromDate) {
                                $(document.getElementById(mess)).show().text("Xin quý khách nhập thông tin chính xác.");
                                e.focus();
                                return;
                            } else {
                                $(document.getElementById(mess)).hide();
                                return;
                            }
                        }
                    }
                </script>

                <!-- Hình thức thanh toán -->
                <div class="col-xs-12 text-center" style="margin: 40px 0 40px 0">
                    <span class="title" style="text-transform: uppercase;">Xin quý khách vui lòng chọn hình thức thanh toán</span>
                </div>
                <div class="col-xs-12 book-hinhthucthanhtoan" style="margin-bottom: 30px">
                    <div style="border:1px solid #ccc;padding: 20px 30px 20px 30px">
                        <div class="radio">
                            <label style="display:none;"><input type="radio" class="chkPayment" name="paymentID" value="1"><label class="lb_r">Tiền mặt</label></label>
                        </div>
                        <div class="radio">
                            <label style="display:none;"><input type="radio" class="chkPayment" name="paymentID" value="2"><label class="lb_r">Chuyển khoản</label></label>
                        </div>
                        <div class="radio">
                            <label><input type="radio" class="chkPayment" name="paymentID" value="9" checked="checked"><label class="lb_r">ATM / Internet Banking</label></label>
                        </div>
                        <div class="radio">
                            <label><input type="radio" class="chkPayment" name="paymentID" value="15"><label class="lb_r">Thẻ tín dụng </label> </label>
                        </div>
                        <div class="row " style="padding-bottom:10px;display:none;" id="divCard">
                            <div style="margin-top: 5px; margin-left: 35px; font-weight: bold; color: #d57575;">
                                Quý khách vui lòng chọn loại thẻ

                            </div>
                            <div style="padding:15px; margin:0px 15px;">
                                <input id="cardType" name="cardType" type="hidden" value="visa">
                                <div card="visa" onclick="ChonLoaiThe('visa')" class="card_type f-left" style="margin-left:5px; cursor:pointer;height: 32px;">
                                    <img src="/Content/themeOrange/img/thevisa.png" alt="visa">
                                </div>
                                <div card="mastercard" onclick="ChonLoaiThe('mastercard')" class="card_type f-left mg-left" style="margin-left:5px; cursor:pointer;height: 32px;">
                                    <img src="/Content/themeOrange/img/master.png" alt="master">
                                </div>
                                <div card="jcb" onclick="ChonLoaiThe('jcb')" class="card_type f-left mg-left" style="margin-left:5px; cursor:pointer;height: 32px;">
                                    <img src="/Content/themeOrange/img/jcb.png" alt="jcb">
                                </div>
                                <div card="amex" onclick="ChonLoaiThe('amex')" class="card_type f-left mg-left" style="margin-left:5px; cursor:pointer;height: 32px;">
                                    <img src="/Content/themeOrange/img/amex.png" alt="amex">
                                </div>
                            </div>
                        </div>
                        <div class="radio">
                            <label><input type="radio" class="chkPayment" name="paymentID" value="16"><label class="lb_r">Thanh toán bằng quét QRCode</label></label>
                        </div>
                        <div class="row " style="padding-bottom:10px;display:none;" id="divVNPay">
                            <div style="margin-top: 5px; margin-left: 35px; font-weight: bold; color: #d57575;">
                                Thẻ tín dụng (VISA/MASTER/JCB) / Thẻ ATM - Dịch vụ của VNPay
                            </div>
                        </div>

                        <div style="border:1px solid #ccc;padding: 20px 30px 20px 30px;text-align: justify;word-wrap: break-word;height: 150px;overflow-y: scroll;line-height: 22px">
                            <div id="conditionPayment">




                                <p align="left" class="credit">
                                    <strong><font color="#01008A">HÌNH THỨC THANH TOÁN BẰNG THẺ ATM/ INTERNET BANKING</font></strong>
                                </p>
                                <div>
                                    LuonaTravel chấp nhận thanh toán bằng thẻ ATM qua cổng thanh toán 123 pay.
                                </div>
                                <div>
                                    &nbsp;
                                </div>
                                <div>
                                    Hãy đảm bảo bạn đang sử dụng thẻ ATM do ngân hàng trong nước phát hành và đã được kích hoạt chức năng thanh toán trực tuyến.
                                </div>
                                <div>
                                    &nbsp;
                                </div>
                                <div>
                                    Hướng dẫn thanh toán thẻ qua cồng 123 pay : <a href="https://123pay.vn/info/huong-dan/huong-dan" target="_blank">https://123pay.vn/info/huong-dan/huong-dan</a>
                                </div>
                                <p>
                                    &nbsp;
                                </p>


                            </div>
                        </div>
                    </div>
                </div>

                <style type="text/css">
                    .card_active {
                        border: 1px solid #a66b01;
                    }

                    .card_opacity {
                        opacity: 0.5;
                    }
                </style>
                <div class="col-xs-12 text-center" style="margin: 40px 0 40px 0">
                    <span class="title" style="text-transform: uppercase;">Điều khoản bắt buộc khi đăng ký online</span>
                </div>
                <div class="col-xs-12 book-hinhthucthanhtoan" style="margin-bottom: 30px">
                    <div style="border:1px solid #ccc;padding: 20px 30px 20px 30px;text-align: justify;word-wrap: break-word;height: 200px;overflow-y: scroll;line-height: 22px">





                        <p align="center">
                            <strong>ĐIỀU KIỆN BÁN VÉ CÁC CHƯƠNG TRÌNH DU LỊCH NƯỚC NGOÀI</strong>
                        </p>
                        <p>
                            <strong>I.&nbsp;&nbsp;&nbsp; GIÁ VÉ DU LỊCH</strong>
                        </p>
                        <p>
                            Giá vé du lịch được tính theo tiền Đồng (Việt Nam - VNĐ). Trường hợp khách thanh toán bằng USD sẽ được quy đổi ra VNĐ theo tỉ giá của ngân hàng Đầu Tư và Phát Triển Việt Nam – Chi nhánh TP.HCM tại thời điểm thanh toán.
                        </p>
                        <p>
                            Giá vé chỉ bao gồm những khoản được liệt kê một cách rõ ràng trong phần “Bao gồm” trong các chương trình du lịch. LuonaTravel không có nghĩa vụ thanh toán bất cứ chi phí nào không nằm trong phần “Bao gồm”.
                        </p>
                        <p>
                            <strong>II.&nbsp; GIÁ DÀNH CHO TRẺ EM</strong>
                        </p>
                        <p>
                            - Trẻ em dưới 2 tuổi: 30% trên giá vé du lịch.
                        </p>
                        <p>
                            - Trẻ em từ 2 đến dưới 12 tuổi: Từ 75%-100% (tùy theo chính sách của hãng hàng không hoặc phòng lưu trú của từng chương trình tour du lịch) trên vé du lịch, xin Quý khách vui lòng xem kỹ phần điều kiện trong từng chương trình tour. Hai người lớn chỉ được kèm 01 trẻ em, em thứ hai trở lên sẽ mua thêm xuất giường đơn.
                        </p>
                        <p>
                            - Trẻ em từ 12 tuổi trở lên, mua một vé như người lớn.
                        </p>
                        <p>
                            Vé máy bay, xe lửa, phương tiện vận chuyển công cộng: mua theo quy định của các đơn vị vận chuyển này.
                        </p>
                        <p>
                            *Lưu ý: Giá vé du lịch chưa bao gồm: Chế độ ngủ giường riêng.
                        </p>
                        <p>
                            <strong>III.&nbsp;&nbsp; THANH TOÁN</strong>
                        </p>
                        <p>
                            Khi đăng ký, Quý khách vui lòng cung cấp đầy đủ thông tin và đóng một khoản tiền cọc để giữ chỗ. Số tiền cọc khác nhau tùy theo chương trình mà Quý khách chọn, số tiền còn lại sẽ thanh toán trước ngày khởi hành 5 ngày làm việc.
                        </p>
                        <p>
                            Thanh toán bằng tiền mặt hoặc chuyển khoản tới tài khoản ngân hàng của LuonaTravel.
                        </p>
                        <p>
                            Tên tài khoản: VIETRAVEL
                        </p>
                        <p>
                            Ngân hàng:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ngoại Thương Việt Nam – Chi nhánh TPHCM
                        </p>
                        <p>
                            Địa chỉ:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 29 Bến Chương Dương, Quận 1, TPHCM
                        </p>
                        <p>
                            Tài khoản:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; USD: 007 137 008 9095
                        </p>
                        <p style="margin-left:.5in;">
                            VNĐ: 007 100 001 2584
                        </p>
                        <p>
                            Việc thanh toán được xem là hoàn tất khi LuonaTravel nhận được đủ tiền vé du lịch trước lúc khởi hành hoặc theo hợp đồng thỏa thuận giữa hai bên. Bất kỳ mọi sự thanh toán chậm trễ dẫn đến việc hủy dịch vụ không thuộc trách nhiệm của LuonaTravel.
                        </p>
                        <p>
                            Khách hàng có nhu cầu xuất hóa đơn, vui lòng cung cấp thông tin xuất hóa đơn ngay tại thời điểm đăng ký. LuonaTravel có trách nhiệm xuất hóa đơn cho khách hàng trong vòng 7 ngày sau khi tour kết thúc.&nbsp;
                        </p>
                        <p>
                            <strong>DÀNH CHO KHÁCH HÀNG ĐĂNG KÝ TRÊN TRANG WWW.TRAVEL.COM.VN THANH TOÁN CHUYỂN KHOẢN:</strong>
                        </p>
                        <p>
                            Khi thực hiện việc chuyển khoản, Quý khách <strong>vui lòng ghi rõ Tên họ, Số điện thoại và Nội dung chuyển</strong> cho chương trình du lịch cụ thể đã được Quý khách chọn đăng ký.
                        </p>
                        <p>
                            Sau khi thực hiện việc chuyển khoản, Quý khách vui lòng gửi Ủy Nhiệm Chi về công ty LuonaTravel theo địa chỉ email sales@vietravel.com và liên hệ với nhân viên phụ trách tuyến để nhận được Vé du lịch chính thức từ công ty LuonaTravel.
                        </p>
                        <p>
                            LuonaTravel sẽ không giải quyết các trường hợp hệ thống tự động hủy phiếu đăng ký nếu Quý khách không thực hiện đúng qui định trên. LuonaTravel sẽ xác nhận phục vụ khách sau khi đã&nbsp; nhận được tiền thanh toán của Quý khách.
                        </p>
                        <p>
                            *<u>Lưu ý</u>: Quý khách vui lòng điền đầy đủ thông tin theo yêu cầu khi đăng ký tour qua mạng bán travel.com.vn và chịu trách nhiệm về tính chính xác của những thông tin đã cung cấp. LuonaTravel sẽ sử dụng những thông tin này để cung cấp cho các nhà cung cấp dịch vụ và tiến hành các thủ tục cần thiết cho chuyến đi. Nếu có sự khác biệt giữa thông tin mà Quý khách cung cấp so với thực tế dẫn đến việc phải điều chỉnh thì Quý khách vui lòng thanh toán các khoản chi phí phát sinh (nếu có).
                        </p>
                        <p>
                            <strong>IV.&nbsp; HỦY VÉ VÀ PHÍ HỦY VÉ DU LỊCH</strong>
                        </p>
                        <p>
                            <strong>1.&nbsp;&nbsp; Trường hợp bị hủy bỏ do LuonaTravel:</strong>
                        </p>
                        <p>
                            Nếu LuonaTravel không thực hiện được chuyến du lịch, LuonaTravel phải báo ngay cho khách hàng biết và thanh toán lại cho khách hàng toàn bộ số tiền khách hàng đã đóng trong vòng 3 ngày kể từ lúc việc thông báo hủy chuyến du lịch bằng tiền mặt hoặc chuyển khoản và chịu toàn bộ chi phí đã trả cho các nhà cung cấp trước đó.
                        </p>
                        <p>
                            <strong>2.&nbsp;&nbsp; Trường hợp bị hủy bỏ do khách hàng: </strong>
                        </p>
                        <p>
                            - &nbsp;Đối với tất cả các tuyến du lịch, áp dụng điều kiện hủy tour ghi trong Biên nhận thu tiền và tờ rơi chương trình du lịch.
                        </p>
                        <p>
                            - &nbsp;Riêng đối với tuyến du thuyền, áp dụng theo điều kiện hủy tour trong tờ rơi chương trình du lịch du thuyền.
                        </p>
                        <p>
                            - &nbsp;Đối với khách hàng đang ký trên trang <a href="http://www.travel.com.vn/">www.travel.com.vn</a> thanh toán trực tuyến, áp dụng các điều khoản hủy ghi trên trang <a href="http://www.travel.com.vn/">www.travel.com.vn</a> và cộng thêm chi phí giao dịch ngân hàng cho việc thanh toán tiền Vé du lịch.
                        </p>
                        <p>
                            - &nbsp;Việc hoàn trả tiền cho khách sẽ được LuonaTravel thực hiện ngay sau khi ngân hàng thông báo tiền đã vào tài khoản của LuonaTravel.
                        </p>
                        <p>
                            <strong>3.&nbsp;&nbsp; Trường hợp bất khả kháng:</strong>
                        </p>
                        <p>
                            - Nếu chương trình du lịch bị hủy bỏ hoặc thay đổi bởi một trong hai bên vì lý do bất khả kháng (hỏa hoạn, thời tiết, tai nạn, thiên tai, chiến tranh, dịch bệnh, hoãn, dời, và hủy chuyến hoặc thay đổi khác của các phương tiện vận chuyển công cộng hoặc các sự kiến bất khả kháng khác theo quy định pháp luật…), thì hai bên sẽ không chịu bất kỳ nghĩa vụ bồi hoàn các tổn thất đã xảy ra và không chịu bất kỳ trách nhiệm pháp lý nào. Tuy nhiên mỗi bên có trách nhiệm cố gắng tối đa để giúp đỡ bên bị thiệt hại nhằm giảm thiểu các tổn thất gây ra vì lý do bất khả kháng.
                        </p>
                        <p>
                            <strong>4. Thay đổi lộ trình:</strong>
                        </p>
                        <p>
                            <strong>- </strong>Tùy theo tình hình thực tế, LuonaTravel giữ quyền thay đổi lộ trình, sắp xếp lại thứ tự các điểm tham quan hoặc hủy bỏ chuyến đi du lịch bất cứ lúc nào mà LuonaTravel thấy cần thiết vì sự thuận tiện hoặc an toàn cho khách hàng.
                        </p>
                        <p>
                            <strong>V.&nbsp;&nbsp; NHỮNG YÊU CẦU ĐẶC BIỆT TRONG CHUYẾN DU LỊCH</strong>
                        </p>
                        <p>
                            Các yêu cầu đặc biệt của Quý khách phải được báo trước cho LuonaTravel ngay tại thời điểm đăng ký. LuonaTravel sẽ cố gắng đáp ứng những yêu cầu này trong khả năng của mình song sẽ không chịu trách nhiệm về bất kỳ sự từ chối cung cấp dịch vụ từ phía các nhà vận chuyển, khách sạn, nhà hàng và các nhà cung cấp dịch vụ độc lập khác.
                        </p>
                        <p>
                            <strong>VI.&nbsp; KHÁCH SẠN</strong>
                        </p>
                        <p>
                            - Phòng khách sạn được cung cấp theo yêu cầu của Quý khách và khả năng cung ứng của nơi lưu trú. Loại phòng cơ bản có hai giường đơn (TWN) hoặc một giường đôi (DBL) tùy theo cơ cấu phòng của các khách sạn. Khách sạn do LuonaTravel đặt cho các chương trình tham quan có tiêu chuẩn tương ứng với các mức giá vé mà khách chọn khi đăng ký đi du lịch. Nếu cần thiết thay đổi về bất kỳ lý do nào, khách sạn thay thế sẽ tương đương với tiêu chuẩn của khách sạn ban đầu và sẽ được báo cho du khách trước khi khởi hành.
                        </p>
                        <p>
                            - Những yêu cầu đặc biệt của khách hàng nếu thông báo trước cho LuonaTravel sẽ được đáp ứng tùy theo khả năng cung cấp của khách sạn và khách hàng phải trả thêm tiền đối với các yêu cầu này (nếu có). LuonaTravel được phép không đáp ứng những yêu cầu này nếu khách sạn từ chối cung cấp dịch vụ.
                        </p>
                        <p>
                            - Giờ nhận phòng tại các khách sạn là sau 14:00 và phải trả phòng theo quy định của khách sạn là trước 12:00.
                        </p>
                        <p>
                            <strong>VII. VẬN CHUYỂN</strong>
                        </p>
                        <p>
                            - Với chương trình đi bằng xe: xe máy lạnh (từ 4 đến 45 chỗ) sẽ được LuonaTravel sắp xếp tùy theo số lượng khách từng đoàn, phục vụ suốt chương trình tham quan.
                        </p>
                        <p>
                            - Với chương trình đi bằng xe lửa – máy bay – tàu cánh ngầm (phương tiện vận chuyển công cộng), các nhà cung cấp dịch vụ có thể thay đổi giờ khởi hành mà không báo trước. Trường hợp định tuyến bay, quyền bay không được cấp bởi chính quyền nước sở tại, nằm ngoài kiểm soát của LuonaTravel (đối với các chuyến bay thuê bao nguyên chuyến). Vì vậy, LuonaTravel sẽ hoàn trả chi phí tour chưa thực hiện và không xem xét bồi thường thêm chi phí nào khác. LuonaTravel sẽ thông báo cho khách hàng trong thời gian sớm nhất.
                        </p>
                        <p>
                            - LuonaTravel không chịu trách nhiệm bồi hoàn và trách nhiệm pháp lý với những thiệt hại về vật chất lẫn tinh thần do việc chậm trễ, thay đổi giờ giấc khởi hành của các phương tiện vận chuyển công cộng hoặc sự chậm trễ do chính hành khách gây ra. LuonaTravel chỉ thực hiện hành vi giúp đỡ để giảm bớt tổn thất cho hành khách.
                        </p>
                        <p>
                            <strong>VIII.&nbsp; HÀNH LÝ</strong>
                        </p>
                        <p>
                            - Đối với các chương trình sử dụng dịch vụ hàng không, hành lý miễn cước sẽ áp dụng theo quy định của các hãng hàng không.
                        </p>
                        <p>
                            - LuonaTravel không chịu trách nhiệm về sự thất lạc, hư hỏng hành lý hoặc bất kỳ vật dụng gì của du khách trong suốt chuyến đi, du khách tự bảo quản hành lý của mình. Nếu khách hàng bị mất hay thất lạc hành lý thì LuonaTravel sẽ giúp hành khách liên lạc và khai báo với các bộ phận liên quan truy tìm hành lý bị mất hay thất lạc. Việc bồi thường hành lý bị mất hay thất lạc sẽ theo qui định của các đơn vị cung cấp dịch vụ hoặc các đơn vị bảo hiểm (nếu có).
                        </p>
                        <p>
                            <strong>IX.&nbsp; BẢO HIỂM DU LỊCH </strong>
                        </p>
                        <p>
                            - Giá dịch vụ du lịch trọn gói đã bao gồm bảo hiểm du lịch nước ngoài với mức đền bù lên đến 460.000.000vnđ/người/vụ cho nhân mạng và 28.600.000vnđ/người/vụ cho hành lý.
                        </p>
                        <p>
                            - Điều kiện, điều khoản bảo hiểm: Theo quy tắc bảo hiểm khách du lịch nước ngoài QĐ số: 0333/2011 – BM/QLNV ngày 01/03/2011.
                        </p>
                        <p>
                            - Số hotline tư vấn về các điều kiện, điều khoản bảo hiểm 0938 30 1234
                        </p>
                        <p>
                            <strong>X. </strong>Trong quá trình thực hiện, nếu xảy ra tranh chấp sẽ được giải quyết trên cơ sở thương lượng trong thời hạn 30 ngày kể từ ngày một trong hai bên đưa tranh chấp ra thương lượng. Hết thời hạn này nếu tranh chấp không được giải quyết hoặc một trong hai bên không đồng ý với kết quả thương lượng thì có quyền đưa tranh chấp ra giải quyết tại Tòa án có thẩm quyền. Án phí sẽ do bên thua kiện chịu.
                        </p>
                        <p>
                            <strong><em>* Vé du lịch được xem như Hợp đồng lữ hành và được lập thành 2 bản, mỗi bên giữ một bản, có giá trị như nhau.</em></strong>
                        </p>
                        <p>
                            &nbsp;
                        </p>



                    </div>
                </div>
                <div class="col-xs-12 book-toidongy" style="margin: 0 0 40px 0">
                    <label class="checkbox-inline"><input type="checkbox" id="chkDieuKhoan">Tôi đồng ý với các điều kiện trên</label>


                </div>

                <div class="col-xs-12 text-center" style="margin: 0 0 40px 0">
                    <input type="button" id="btnSubmit" class="btn btn-md btn-default" value="Đặt tour" data-username="@user.Username">
                </div>
            </form>
        </div>
    </div>
    <input id="statusRedirect" type="hidden" value=""/>
</section>
<script src="~/Assets/js/BookingController.js"></script>
